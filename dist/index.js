/**
* @ibrahimcesar/react-lite-youtube-embed v3.1.0
*  git+https://github.com/ibrahimcesar/react-lite-youtube-embed.git
*
*  Copyright (c) Ibrahim Cesar <email@ibrahimcesar.com> and project contributors.
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*  Author site: https://ibrahimcesar.cloud
*/
"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("react/jsx-runtime"),N=require("react");function Q(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const c in e)if(c!=="default"){const s=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(t,c,s.get?s:{enumerable:!0,get:()=>e[c]})}}return t.default=e,Object.freeze(t)}const u=Q(N),z={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},K=(e,t,c,s="maxresdefault")=>{const[a,r]=N.useState("");return N.useEffect(()=>{const o=`https://img.youtube.com/${t}/${e}/${s}.${c}`,f=`https://img.youtube.com/${t}/${e}/hqdefault.${c}`,l=z[s],d=new Image;d.onload=()=>{d.width<l?r(f):r(o)},d.onerror=()=>r(f),d.src=o},[e,t,c,s]),a};var O=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(O||{}),A=(e=>(e[e.INVALID_PARAM=2]="INVALID_PARAM",e[e.HTML5_ERROR=5]="HTML5_ERROR",e[e.VIDEO_NOT_FOUND=100]="VIDEO_NOT_FOUND",e[e.NOT_EMBEDDABLE=101]="NOT_EMBEDDABLE",e[e.NOT_EMBEDDABLE_DISGUISED=150]="NOT_EMBEDDABLE_DISGUISED",e))(A||{});function X(e,t,c,s,a){const r={"@context":"https://schema.org","@type":"VideoObject",name:a?.name||t,thumbnailUrl:[a?.thumbnailUrl||c],embedUrl:a?.embedUrl||`${s}/embed/${e}`,contentUrl:a?.contentUrl||`https://www.youtube.com/watch?v=${e}`,...a?.description&&{description:a.description},...a?.uploadDate&&{uploadDate:a.uploadDate},...a?.duration&&{duration:a.duration}};return JSON.stringify(r)}function Z(e,t){const[c,s]=u.useState(!1),[a,r]=u.useState(e.alwaysLoadIframe||!1),o=encodeURIComponent(e.id),f=typeof e.playlistCoverId=="string"?encodeURIComponent(e.playlistCoverId):null,l=e.title,d=e.poster||"hqdefault",T=e.announce||"Watch",$=e.alwaysLoadIframe?e.autoplay&&e.muted:!0,E=u.useMemo(()=>{const C=new URLSearchParams({...e.muted?{mute:"1"}:{},...$?{autoplay:"1"}:{},...e.enableJsApi?{enablejsapi:"1"}:{},...e.playlist?{list:o}:{}});return e.params&&new URLSearchParams(e.params.startsWith("&")?e.params.slice(1):e.params).forEach((y,g)=>{C.append(g,y)}),C},[e.muted,$,e.enableJsApi,e.playlist,o,e.params]),h=u.useMemo(()=>e.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[e.cookie]),S=u.useMemo(()=>e.playlist?`${h}/embed/videoseries?${E.toString()}`:`${h}/embed/${o}?${E.toString()}`,[e.playlist,h,o,E]),_=!e.thumbnail&&!e.playlist&&d==="maxresdefault",k=e.webp?"webp":"jpg",D=e.webp?"vi_webp":"vi",L=_?K(e.id,D,k,d):null,b=u.useMemo(()=>e.thumbnail||L||`https://i.ytimg.com/${D}/${e.playlist?f:o}/${d}.${k}`,[e.thumbnail,L,D,e.playlist,f,o,d,k]),M=e.activatedClass||"lyt-activated",P=e.adNetwork||!1,B=e.aspectHeight||9,F=e.aspectWidth||16,W=e.iframeClass||"",Y=e.playerClass||"lty-playbtn",H=e.wrapperClass||"yt-lite",U=u.useCallback(e.onIframeAdded||function(){},[e.onIframeAdded]),V=e.rel?"prefetch":"preload",q=e.containerElement||"article",G=e.noscriptFallback!==!1,J=()=>{c||s(!0)},x=()=>{a||r(!0)};return u.useEffect(()=>{a&&(U(),e.focusOnLoad&&typeof t=="object"&&t?.current&&t.current.focus())},[a,U,e.focusOnLoad,t]),u.useEffect(()=>{if(!a||!e.enableJsApi||!(e.onReady||e.onStateChange||e.onError||e.onPlay||e.onPause||e.onEnd||e.onBuffering||e.onPlaybackRateChange||e.onPlaybackQualityChange))return;let I=!1,y=!1;const g=m=>{if(m.origin!=="https://www.youtube.com"&&m.origin!=="https://www.youtube-nocookie.com")return;let i;try{i=typeof m.data=="string"?JSON.parse(m.data):m.data}catch{return}switch(i.event){case"onReady":I||(I=!0,e.onReady&&e.onReady({videoId:e.id,title:l}));break;case"onStateChange":if(i.info?.playerState!==void 0){const w=i.info.playerState;switch(e.onStateChange&&e.onStateChange({state:w,currentTime:i.info.currentTime,duration:i.info.duration}),w){case 1:e.onPlay?.();break;case 2:e.onPause?.();break;case 0:e.onEnd?.(),e.stopOnEnd&&typeof t=="object"&&t?.current?.contentWindow&&t.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:e.onBuffering?.();break}}break;case"onError":if(i.info&&"errorCode"in i.info){const w=i.info.errorCode;e.onError&&e.onError(w)}break;case"onPlaybackRateChange":i.info?.playbackRate!==void 0&&e.onPlaybackRateChange?.(i.info.playbackRate);break;case"onPlaybackQualityChange":i.info?.playbackQuality!==void 0&&e.onPlaybackQualityChange?.(i.info.playbackQuality);break}};window.addEventListener("message",g);const v=[],j=()=>{typeof t=="object"&&t?.current?.contentWindow&&t.current.contentWindow.postMessage('{"event":"listening","id":"'+o+'"}',"*")},R=()=>{if(y)return;y=!0,j(),[100,300,600,1200,2400].forEach(i=>{v.push(setTimeout(j,i))})};return typeof t=="object"&&t?.current?(t.current.addEventListener("load",R),t.current.contentDocument?.readyState==="complete"&&R()):[200,500,1e3,2e3,3e3].forEach(i=>{v.push(setTimeout(j,i))}),()=>{window.removeEventListener("message",g),v.forEach(clearTimeout),typeof t=="object"&&t?.current&&t.current.removeEventListener("load",R)}},[a,e.enableJsApi,e.onReady,e.onStateChange,e.onError,e.onPlay,e.onPause,e.onEnd,e.onBuffering,e.onPlaybackRateChange,e.onPlaybackQualityChange,e.stopOnEnd,e.id,o,l,t]),n.jsxs(n.Fragment,{children:[!e.lazyLoad&&n.jsx("link",{rel:V,href:b,as:"image"}),n.jsx(n.Fragment,{children:c&&n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:h}),n.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),P&&n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),n.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),e.seo&&!e.playlist&&n.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:X(e.id,l,b,h,e.seo)}}),G&&!e.playlist&&n.jsx("noscript",{children:n.jsxs("a",{href:`https://www.youtube.com/watch?v=${e.id}`,"aria-label":`Watch ${l} on YouTube`,children:['Watch "',l,'" on YouTube']})}),n.jsxs(q,{onPointerOver:J,onClick:x,className:`${H} ${a?M:""}`,"data-title":l,role:a?void 0:"img","aria-label":a?void 0:`${l} - YouTube video preview`,style:{...!e.lazyLoad&&{backgroundImage:`url(${b})`},"--aspect-ratio":`${B/F*100}%`,...e.style||{}},children:[e.lazyLoad&&!a&&n.jsx("img",{src:b,alt:`${l} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),n.jsx("button",{type:"button",className:Y,"aria-label":`${T} ${l}`,"aria-hidden":a||void 0,tabIndex:a?-1:0,onClick:x,children:n.jsx("span",{className:"lty-visually-hidden",children:T})}),a&&n.jsx("iframe",{ref:t,className:W,title:l,width:"560",height:"315",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:S,referrerPolicy:e.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const p=u.forwardRef(Z);exports.PlayerError=A;exports.PlayerState=O;exports.default=p;
//# sourceMappingURL=index.js.map
