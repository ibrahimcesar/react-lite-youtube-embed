/**
* @ibrahimcesar/react-lite-youtube-embed v3.2.0
*  git+https://github.com/ibrahimcesar/react-lite-youtube-embed.git
*
*  Copyright (c) Ibrahim Cesar <email@ibrahimcesar.com> and project contributors.
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*  Author site: https://ibrahimcesar.cloud
*/
"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=require("react/jsx-runtime"),T=require("react");function G(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const c in e)if(c!=="default"){const d=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(t,c,d.get?d:{enumerable:!0,get:()=>e[c]})}}return t.default=e,Object.freeze(t)}const u=G(T),z={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},K=(e,t,c,d="maxresdefault")=>{const[a,r]=T.useState("");return T.useEffect(()=>{const l=`https://img.youtube.com/${t}/${e}/${d}.${c}`,b=`https://img.youtube.com/${t}/${e}/hqdefault.${c}`,o=z[d],s=new Image;s.onload=()=>{s.width<o?r(b):r(l)},s.onerror=()=>r(b),s.src=l},[e,t,c,d]),a};var S=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(S||{}),x=(e=>(e[e.INVALID_PARAM=2]="INVALID_PARAM",e[e.HTML5_ERROR=5]="HTML5_ERROR",e[e.VIDEO_NOT_FOUND=100]="VIDEO_NOT_FOUND",e[e.NOT_EMBEDDABLE=101]="NOT_EMBEDDABLE",e[e.NOT_EMBEDDABLE_DISGUISED=150]="NOT_EMBEDDABLE_DISGUISED",e))(x||{});function X(e,t,c,d,a){const r={"@context":"https://schema.org","@type":"VideoObject",name:a?.name||t,thumbnailUrl:[a?.thumbnailUrl||c],embedUrl:a?.embedUrl||`${d}/embed/${e}`,contentUrl:a?.contentUrl||`https://www.youtube.com/watch?v=${e}`,...a?.description&&{description:a.description},...a?.uploadDate&&{uploadDate:a.uploadDate},...a?.duration&&{duration:a.duration}};return JSON.stringify(r)}function Z(e,t){const[c,d]=u.useState(!1),[a,r]=u.useState(e.alwaysLoadIframe||!1),l=encodeURIComponent(e.id),b=typeof e.playlistCoverId=="string"?encodeURIComponent(e.playlistCoverId):null,o=e.title,s=e.poster||"hqdefault",N=e.announce||"Watch",$=e.alwaysLoadIframe?e.autoplay&&e.muted:!0,k=u.useMemo(()=>{const D=new URLSearchParams({...e.muted?{mute:"1"}:{},...$?{autoplay:"1"}:{},...e.enableJsApi?{enablejsapi:"1"}:{},...e.enableJsApi&&typeof window<"u"?{origin:window.location.origin}:{},...e.playlist?{list:l}:{}});return e.params&&new URLSearchParams(e.params.startsWith("&")?e.params.slice(1):e.params).forEach((g,w)=>{D.append(w,g)}),D},[e.muted,$,e.enableJsApi,e.playlist,l,e.params]),h=u.useMemo(()=>e.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[e.cookie]),A=u.useMemo(()=>e.playlist?`${h}/embed/videoseries?${k.toString()}`:`${h}/embed/${l}?${k.toString()}`,[e.playlist,h,l,k]),_=!e.thumbnail&&!e.playlist&&s==="maxresdefault",E=e.webp?"webp":"jpg",C=e.webp?"vi_webp":"vi",L=_?K(e.id,C,E,s):null,y=u.useMemo(()=>e.thumbnail||L||`https://i.ytimg.com/${C}/${e.playlist?b:l}/${s}.${E}`,[e.thumbnail,L,C,e.playlist,b,l,s,E]),M=e.activatedClass||"lyt-activated",P=e.adNetwork||!1,W=e.aspectHeight||9,B=e.aspectWidth||16,F=e.iframeClass||"",Q=e.playerClass||"lty-playbtn",V=e.wrapperClass||"yt-lite",U=u.useCallback(e.onIframeAdded||function(){},[e.onIframeAdded]),Y=e.rel?"prefetch":"preload",H=e.containerElement||"article",J=e.noscriptFallback!==!1,q=()=>{c||d(!0)},O=()=>{a||r(!0)};return u.useEffect(()=>{a&&(U(),e.focusOnLoad&&typeof t=="object"&&t?.current&&t.current.focus())},[a,U,e.focusOnLoad,t]),u.useEffect(()=>{if(!a||!e.enableJsApi||!(e.onReady||e.onStateChange||e.onError||e.onPlay||e.onPause||e.onEnd||e.onBuffering||e.onPlaybackRateChange||e.onPlaybackQualityChange))return;let v=!1,g=!1;const w=m=>{if(m.origin!=="https://www.youtube.com"&&m.origin!=="https://www.youtube-nocookie.com")return;let n;try{n=typeof m.data=="string"?JSON.parse(m.data):m.data}catch{return}switch(n.event){case"onReady":v||(v=!0,e.onReady&&e.onReady({videoId:e.id,title:o}));break;case"infoDelivery":if(n.info?.playerState!==void 0){const f=n.info.playerState;switch(e.onStateChange&&e.onStateChange({state:f,currentTime:n.info.currentTime,duration:n.info.duration}),f){case 1:e.onPlay?.();break;case 2:e.onPause?.();break;case 0:e.onEnd?.(),e.stopOnEnd&&typeof t=="object"&&t?.current?.contentWindow&&t.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:e.onBuffering?.();break}}n.info?.playbackRate!==void 0&&e.onPlaybackRateChange?.(n.info.playbackRate),n.info?.playbackQuality!==void 0&&e.onPlaybackQualityChange?.(n.info.playbackQuality);break;case"onStateChange":if(n.info?.playerState!==void 0){const f=n.info.playerState;switch(e.onStateChange&&e.onStateChange({state:f,currentTime:n.info.currentTime,duration:n.info.duration}),f){case 1:e.onPlay?.();break;case 2:e.onPause?.();break;case 0:e.onEnd?.(),e.stopOnEnd&&typeof t=="object"&&t?.current?.contentWindow&&t.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:e.onBuffering?.();break}}break;case"onError":if(n.info&&"errorCode"in n.info){const f=n.info.errorCode;e.onError&&e.onError(f)}break;case"onPlaybackRateChange":n.info?.playbackRate!==void 0&&e.onPlaybackRateChange?.(n.info.playbackRate);break;case"onPlaybackQualityChange":n.info?.playbackQuality!==void 0&&e.onPlaybackQualityChange?.(n.info.playbackQuality);break}};window.addEventListener("message",w);const I=[],j=()=>{typeof t=="object"&&t?.current?.contentWindow&&t.current.contentWindow.postMessage('{"event":"listening","id":"'+l+'"}',"*")},R=()=>{if(g)return;g=!0,j(),[100,300,600,1200,2400].forEach(n=>{I.push(setTimeout(j,n))})};return typeof t=="object"&&t?.current?(t.current.addEventListener("load",R),t.current.contentDocument?.readyState==="complete"&&R()):[200,500,1e3,2e3,3e3].forEach(n=>{I.push(setTimeout(j,n))}),()=>{window.removeEventListener("message",w),I.forEach(clearTimeout),typeof t=="object"&&t?.current&&t.current.removeEventListener("load",R)}},[a,e.enableJsApi,e.onReady,e.onStateChange,e.onError,e.onPlay,e.onPause,e.onEnd,e.onBuffering,e.onPlaybackRateChange,e.onPlaybackQualityChange,e.stopOnEnd,e.id,l,o,t]),i.jsxs(i.Fragment,{children:[!e.lazyLoad&&i.jsx("link",{rel:Y,href:y,as:"image"}),i.jsx(i.Fragment,{children:c&&i.jsxs(i.Fragment,{children:[i.jsx("link",{rel:"preconnect",href:h}),i.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),P&&i.jsxs(i.Fragment,{children:[i.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),i.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),e.seo&&!e.playlist&&i.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:X(e.id,o,y,h,e.seo)}}),J&&!e.playlist&&i.jsx("noscript",{children:i.jsxs("a",{href:`https://www.youtube.com/watch?v=${e.id}`,"aria-label":`Watch ${o} on YouTube`,children:['Watch "',o,'" on YouTube']})}),i.jsxs(H,{onPointerOver:q,onClick:O,className:`${V} ${a?M:""}`,"data-title":o,role:a?void 0:"img","aria-label":a?void 0:`${o} - YouTube video preview`,style:{...!e.lazyLoad&&{backgroundImage:`url(${y})`},"--aspect-ratio":`${W/B*100}%`,...e.style||{}},children:[e.lazyLoad&&!a&&i.jsx("img",{src:y,alt:`${o} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),i.jsx("button",{type:"button",className:Q,"aria-label":`${N} ${o}`,"aria-hidden":a||void 0,tabIndex:a?-1:0,onClick:O,children:i.jsx("span",{className:"lty-visually-hidden",children:N})}),a&&i.jsx("iframe",{ref:t,className:F,title:o,width:"560",height:"315",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:A,referrerPolicy:e.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const p=u.forwardRef(Z);exports.PlayerError=x;exports.PlayerState=S;exports.default=p;
//# sourceMappingURL=index.js.map
