/**
* react-lite-youtube-embed v2.6.0
*  git+https://github.com/ibrahimcesar/react-lite-youtube-embed.git
*
*  Copyright (c) Ibrahim Cesar <email@ibrahimcesar.com> and project contributors.
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*  Author site: https://ibrahimcesar.cloud
*/
"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("react/jsx-runtime"),R=require("react");function J(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const i in e)if(i!=="default"){const u=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,u.get?u:{enumerable:!0,get:()=>e[i]})}}return n.default=e,Object.freeze(n)}const d=J(R),Q={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},V=(e,n,i,u="maxresdefault")=>{const[t,r]=R.useState("");return R.useEffect(()=>{const o=`https://img.youtube.com/${n}/${e}/${u}.${i}`,m=`https://img.youtube.com/${n}/${e}/hqdefault.${i}`,l=Q[u],s=new Image;s.onload=()=>{s.width<l?r(m):r(o)},s.onerror=()=>r(m),s.src=o},[e,n,i,u]),t};var U=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(U||{}),x=(e=>(e[e.INVALID_PARAM=2]="INVALID_PARAM",e[e.HTML5_ERROR=5]="HTML5_ERROR",e[e.VIDEO_NOT_FOUND=100]="VIDEO_NOT_FOUND",e[e.NOT_EMBEDDABLE=101]="NOT_EMBEDDABLE",e[e.NOT_EMBEDDABLE_DISGUISED=150]="NOT_EMBEDDABLE_DISGUISED",e))(x||{});function z(e,n,i,u,t){const r={"@context":"https://schema.org","@type":"VideoObject",name:t?.name||n,thumbnailUrl:[t?.thumbnailUrl||i],embedUrl:t?.embedUrl||`${u}/embed/${e}`,contentUrl:t?.contentUrl||`https://www.youtube.com/watch?v=${e}`,...t?.description&&{description:t.description},...t?.uploadDate&&{uploadDate:t.uploadDate},...t?.duration&&{duration:t.duration}};return JSON.stringify(r)}function K(e,n){const[i,u]=d.useState(!1),[t,r]=d.useState(e.alwaysLoadIframe||!1),o=encodeURIComponent(e.id),m=typeof e.playlistCoverId=="string"?encodeURIComponent(e.playlistCoverId):null,l=e.title,s=e.poster||"hqdefault",j=e.announce||"Watch",v=e.alwaysLoadIframe?e.autoplay&&e.muted:!0,k=d.useMemo(()=>{const D=new URLSearchParams({...e.muted?{mute:"1"}:{},...v?{autoplay:"1"}:{},...e.enableJsApi?{enablejsapi:"1"}:{},...e.playlist?{list:o}:{}});return e.params&&new URLSearchParams(e.params.startsWith("&")?e.params.slice(1):e.params).forEach((y,g)=>{D.append(g,y)}),D},[e.muted,v,e.enableJsApi,e.playlist,o,e.params]),f=d.useMemo(()=>e.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[e.cookie]),A=d.useMemo(()=>e.playlist?`${f}/embed/videoseries?${k.toString()}`:`${f}/embed/${o}?${k.toString()}`,[e.playlist,f,o,k]),L=!e.thumbnail&&!e.playlist&&s==="maxresdefault",E=e.webp?"webp":"jpg",C=e.webp?"vi_webp":"vi",N=L?V(e.id,C,E,s):null,b=d.useMemo(()=>e.thumbnail||N||`https://i.ytimg.com/${C}/${e.playlist?m:o}/${s}.${E}`,[e.thumbnail,N,C,e.playlist,m,o,s,E]),O=e.activatedClass||"lyt-activated",S=e.adNetwork||!1,_=e.aspectHeight||9,M=e.aspectWidth||16,P=e.iframeClass||"",B=e.playerClass||"lty-playbtn",F=e.wrapperClass||"yt-lite",$=d.useCallback(e.onIframeAdded||function(){},[e.onIframeAdded]),W=e.rel?"prefetch":"preload",Y=e.containerElement||"article",H=e.noscriptFallback!==!1,q=()=>{i||u(!0)},T=()=>{t||r(!0)};return d.useEffect(()=>{t&&($(),e.focusOnLoad&&typeof n=="object"&&n?.current&&n.current.focus())},[t,$,e.focusOnLoad,n]),d.useEffect(()=>{if(!t||!e.enableJsApi||!(e.onReady||e.onStateChange||e.onError||e.onPlay||e.onPause||e.onEnd||e.onBuffering||e.onPlaybackRateChange||e.onPlaybackQualityChange))return;let I=!1;const y=h=>{if(h.origin!=="https://www.youtube.com"&&h.origin!=="https://www.youtube-nocookie.com")return;let c;try{c=typeof h.data=="string"?JSON.parse(h.data):h.data}catch{return}switch(c.event){case"onReady":I||(I=!0,e.onReady&&e.onReady({videoId:e.id,title:l}));break;case"onStateChange":if(c.info?.playerState!==void 0){const w=c.info.playerState;switch(e.onStateChange&&e.onStateChange({state:w,currentTime:c.info.currentTime,duration:c.info.duration}),w){case 1:e.onPlay?.();break;case 2:e.onPause?.();break;case 0:e.onEnd?.();break;case 3:e.onBuffering?.();break}}break;case"onError":if(c.info&&"errorCode"in c.info){const w=c.info.errorCode;e.onError&&e.onError(w)}break;case"onPlaybackRateChange":c.info?.playbackRate!==void 0&&e.onPlaybackRateChange?.(c.info.playbackRate);break;case"onPlaybackQualityChange":c.info?.playbackQuality!==void 0&&e.onPlaybackQualityChange?.(c.info.playbackQuality);break}};window.addEventListener("message",y);const g=()=>{typeof n=="object"&&n?.current?.contentWindow&&n.current.contentWindow.postMessage('{"event":"listening","id":"'+o+'"}',"*")};g();const G=setTimeout(g,100);return()=>{window.removeEventListener("message",y),clearTimeout(G)}},[t,e.enableJsApi,e.onReady,e.onStateChange,e.onError,e.onPlay,e.onPause,e.onEnd,e.onBuffering,e.onPlaybackRateChange,e.onPlaybackQualityChange,e.id,o,l,n]),a.jsxs(a.Fragment,{children:[!e.lazyLoad&&a.jsx("link",{rel:W,href:b,as:"image"}),a.jsx(a.Fragment,{children:i&&a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:f}),a.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),S&&a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),a.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),e.seo&&!e.playlist&&a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:z(e.id,l,b,f,e.seo)}}),H&&!e.playlist&&a.jsx("noscript",{children:a.jsxs("a",{href:`https://www.youtube.com/watch?v=${e.id}`,"aria-label":`Watch ${l} on YouTube`,children:['Watch "',l,'" on YouTube']})}),a.jsxs(Y,{onPointerOver:q,onClick:T,className:`${F} ${t?O:""}`,"data-title":l,role:t?void 0:"img","aria-label":t?void 0:`${l} - YouTube video preview`,style:{...!e.lazyLoad&&{backgroundImage:`url(${b})`},"--aspect-ratio":`${_/M*100}%`,...e.style||{}},children:[e.lazyLoad&&!t&&a.jsx("img",{src:b,alt:`${l} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),a.jsx("button",{type:"button",className:B,"aria-label":`${j} ${l}`,"aria-hidden":t||void 0,tabIndex:t?-1:0,onClick:T,children:a.jsx("span",{className:"lty-visually-hidden",children:j})}),t&&a.jsx("iframe",{ref:n,className:P,title:l,width:"560",height:"315",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:A,referrerPolicy:e.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const X=d.forwardRef(K);exports.PlayerError=x;exports.PlayerState=U;exports.default=X;
//# sourceMappingURL=index.js.map
