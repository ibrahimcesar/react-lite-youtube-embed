/**
* @ibrahimcesar/react-lite-youtube-embed v3.1.0
*  git+https://github.com/ibrahimcesar/react-lite-youtube-embed.git
*
*  Copyright (c) Ibrahim Cesar <email@ibrahimcesar.com> and project contributors.
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*  Author site: https://ibrahimcesar.cloud
*/
"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("react/jsx-runtime"),R=require("react");function q(e){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const i in e)if(i!=="default"){const d=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(a,i,d.get?d:{enumerable:!0,get:()=>e[i]})}}return a.default=e,Object.freeze(a)}const l=q(R),z={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},G=(e,a,i,d="maxresdefault")=>{const[t,m]=R.useState("");return R.useEffect(()=>{const o=`https://img.youtube.com/${a}/${e}/${d}.${i}`,b=`https://img.youtube.com/${a}/${e}/hqdefault.${i}`,s=z[d],u=new Image;u.onload=()=>{u.width<s?m(b):m(o)},u.onerror=()=>m(b),u.src=o},[e,a,i,d]),t};var U=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(U||{}),A=(e=>(e[e.INVALID_PARAM=2]="INVALID_PARAM",e[e.HTML5_ERROR=5]="HTML5_ERROR",e[e.VIDEO_NOT_FOUND=100]="VIDEO_NOT_FOUND",e[e.NOT_EMBEDDABLE=101]="NOT_EMBEDDABLE",e[e.NOT_EMBEDDABLE_DISGUISED=150]="NOT_EMBEDDABLE_DISGUISED",e))(A||{});function Q(e,a,i,d,t){const m={"@context":"https://schema.org","@type":"VideoObject",name:t?.name||a,thumbnailUrl:[t?.thumbnailUrl||i],embedUrl:t?.embedUrl||`${d}/embed/${e}`,contentUrl:t?.contentUrl||`https://www.youtube.com/watch?v=${e}`,...t?.description&&{description:t.description},...t?.uploadDate&&{uploadDate:t.uploadDate},...t?.duration&&{duration:t.duration}};return JSON.stringify(m)}function K(e,a){const[i,d]=l.useState(!1),[t,m]=l.useState(e.alwaysLoadIframe||!1),o=encodeURIComponent(e.id),b=typeof e.playlistCoverId=="string"?encodeURIComponent(e.playlistCoverId):null,s=e.title,u=e.poster||"hqdefault",j=e.announce||"Watch",v=e.alwaysLoadIframe?e.autoplay&&e.muted:!0,k=l.useMemo(()=>{const h=new URLSearchParams({...e.muted?{mute:"1"}:{},...v?{autoplay:"1"}:{},...e.enableJsApi?{enablejsapi:"1"}:{},...e.playlist?{list:o}:{}});return e.params&&new URLSearchParams(e.params.startsWith("&")?e.params.slice(1):e.params).forEach((r,f)=>{h.append(f,r)}),h},[e.muted,v,e.enableJsApi,e.playlist,o,e.params]),y=l.useMemo(()=>e.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[e.cookie]),L=l.useMemo(()=>e.playlist?`${y}/embed/videoseries?${k.toString()}`:`${y}/embed/${o}?${k.toString()}`,[e.playlist,y,o,k]),x=!e.thumbnail&&!e.playlist&&u==="maxresdefault",C=e.webp?"webp":"jpg",I=e.webp?"vi_webp":"vi",N=x?G(e.id,I,C,u):null,g=l.useMemo(()=>e.thumbnail||N||`https://i.ytimg.com/${I}/${e.playlist?b:o}/${u}.${C}`,[e.thumbnail,N,I,e.playlist,b,o,u,C]),O=e.activatedClass||"lyt-activated",S=e.adNetwork||!1,_=e.aspectHeight||9,M=e.aspectWidth||16,P=e.iframeClass||"",F=e.playerClass||"lty-playbtn",B=e.wrapperClass||"yt-lite",$=l.useCallback(e.onIframeAdded||function(){},[e.onIframeAdded]),W=e.rel?"prefetch":"preload",Y=e.containerElement||"article",J=e.noscriptFallback!==!1,H=()=>{i||d(!0)},T=()=>{t||m(!0)};l.useEffect(()=>{t&&($(),e.focusOnLoad&&typeof a=="object"&&a?.current&&a.current.focus())},[t,$,e.focusOnLoad,a]);const D=l.useRef(!1);l.useEffect(()=>{t||(D.current=!1)},[t]);const V=l.useCallback(()=>{if(!e.enableJsApi||D.current)return;D.current=!0;const h=()=>{if(typeof a=="object"&&a?.current?.contentWindow)try{a.current.contentWindow.postMessage('{"event":"listening","id":"'+o+'"}',"*")}catch(r){console.error("Failed to send listening message to YouTube:",r)}};h(),[100,300,600,1200,2400].forEach(r=>{setTimeout(h,r)})},[e.enableJsApi,o,a]);return l.useEffect(()=>{if(!t||!e.enableJsApi||!(e.onReady||e.onStateChange||e.onError||e.onPlay||e.onPause||e.onEnd||e.onBuffering||e.onPlaybackRateChange||e.onPlaybackQualityChange))return;let w=!1;const r=f=>{if(f.origin!=="https://www.youtube.com"&&f.origin!=="https://www.youtube-nocookie.com")return;let c;try{c=typeof f.data=="string"?JSON.parse(f.data):f.data}catch{return}switch(c.event){case"onReady":w||(w=!0,e.onReady&&e.onReady({videoId:e.id,title:s}));break;case"onStateChange":if(c.info?.playerState!==void 0){const E=c.info.playerState;switch(e.onStateChange&&e.onStateChange({state:E,currentTime:c.info.currentTime,duration:c.info.duration}),E){case 1:e.onPlay?.();break;case 2:e.onPause?.();break;case 0:e.onEnd?.(),e.stopOnEnd&&typeof a=="object"&&a?.current?.contentWindow&&a.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:e.onBuffering?.();break}}break;case"onError":if(c.info&&"errorCode"in c.info){const E=c.info.errorCode;e.onError&&e.onError(E)}break;case"onPlaybackRateChange":c.info?.playbackRate!==void 0&&e.onPlaybackRateChange?.(c.info.playbackRate);break;case"onPlaybackQualityChange":c.info?.playbackQuality!==void 0&&e.onPlaybackQualityChange?.(c.info.playbackQuality);break}};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}},[t,e.enableJsApi,e.onReady,e.onStateChange,e.onError,e.onPlay,e.onPause,e.onEnd,e.onBuffering,e.onPlaybackRateChange,e.onPlaybackQualityChange,e.stopOnEnd,e.id,o,s,a]),n.jsxs(n.Fragment,{children:[!e.lazyLoad&&n.jsx("link",{rel:W,href:g,as:"image"}),n.jsx(n.Fragment,{children:i&&n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:y}),n.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),S&&n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),n.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),e.seo&&!e.playlist&&n.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Q(e.id,s,g,y,e.seo)}}),J&&!e.playlist&&n.jsx("noscript",{children:n.jsxs("a",{href:`https://www.youtube.com/watch?v=${e.id}`,"aria-label":`Watch ${s} on YouTube`,children:['Watch "',s,'" on YouTube']})}),n.jsxs(Y,{onPointerOver:H,onClick:T,className:`${B} ${t?O:""}`,"data-title":s,role:t?void 0:"img","aria-label":t?void 0:`${s} - YouTube video preview`,style:{...!e.lazyLoad&&{backgroundImage:`url(${g})`},"--aspect-ratio":`${_/M*100}%`,...e.style||{}},children:[e.lazyLoad&&!t&&n.jsx("img",{src:g,alt:`${s} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),n.jsx("button",{type:"button",className:F,"aria-label":`${j} ${s}`,"aria-hidden":t||void 0,tabIndex:t?-1:0,onClick:T,children:n.jsx("span",{className:"lty-visually-hidden",children:j})}),t&&n.jsx("iframe",{ref:a,className:P,title:s,width:"560",height:"315",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:L,onLoad:V,referrerPolicy:e.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const X=l.forwardRef(K);exports.PlayerError=A;exports.PlayerState=U;exports.default=X;
//# sourceMappingURL=index.js.map
