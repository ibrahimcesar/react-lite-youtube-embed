/**
* react-lite-youtube-embed v2.6.0
*  git+https://github.com/ibrahimcesar/react-lite-youtube-embed.git
*
*  Copyright (c) Ibrahim Cesar <email@ibrahimcesar.com> and project contributors.
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*  Author site: https://ibrahimcesar.cloud
*/
"use strict";const n=require("react/jsx-runtime"),x=require("react");function R(t){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const c in t)if(c!=="default"){const l=Object.getOwnPropertyDescriptor(t,c);Object.defineProperty(a,c,l.get?l:{enumerable:!0,get:()=>t[c]})}}return a.default=t,Object.freeze(a)}const r=R(x),Y={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},_=(t,a,c,l="maxresdefault")=>{const[e,d]=x.useState("");return x.useEffect(()=>{const o=`https://img.youtube.com/${a}/${t}/${l}.${c}`,m=`https://img.youtube.com/${a}/${t}/hqdefault.${c}`,i=Y[l],s=new Image;s.onload=()=>{s.width<i?d(m):d(o)},s.onerror=()=>d(m),s.src=o},[t,a,c,l]),e};function z(t,a,c,l,e){const d={"@context":"https://schema.org","@type":"VideoObject",name:(e==null?void 0:e.name)||a,thumbnailUrl:[(e==null?void 0:e.thumbnailUrl)||c],embedUrl:(e==null?void 0:e.embedUrl)||`${l}/embed/${t}`,contentUrl:(e==null?void 0:e.contentUrl)||`https://www.youtube.com/watch?v=${t}`,...(e==null?void 0:e.description)&&{description:e.description},...(e==null?void 0:e.uploadDate)&&{uploadDate:e.uploadDate},...(e==null?void 0:e.duration)&&{duration:e.duration}};return JSON.stringify(d)}function H(t,a){const[c,l]=r.useState(!1),[e,d]=r.useState(t.alwaysLoadIframe||!1),o=encodeURIComponent(t.id),m=typeof t.playlistCoverId=="string"?encodeURIComponent(t.playlistCoverId):null,i=t.title,s=t.poster||"hqdefault",k=t.announce||"Watch",I=t.alwaysLoadIframe?t.autoplay&&t.muted:!0,g=r.useMemo(()=>{const y=new URLSearchParams({...t.muted?{mute:"1"}:{},...I?{autoplay:"1"}:{},...t.enableJsApi?{enablejsapi:"1"}:{},...t.playlist?{list:o}:{}});return t.params&&new URLSearchParams(t.params.startsWith("&")?t.params.slice(1):t.params).forEach((w,b)=>{y.append(b,w)}),y},[t.muted,I,t.enableJsApi,t.playlist,o,t.params]),h=r.useMemo(()=>t.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[t.cookie]),U=r.useMemo(()=>t.playlist?`${h}/embed/videoseries?${g.toString()}`:`${h}/embed/${o}?${g.toString()}`,[t.playlist,h,o,g]),L=!t.thumbnail&&!t.playlist&&s==="maxresdefault",$=t.webp?"webp":"jpg",j=t.webp?"vi_webp":"vi",C=L?_(t.id,j,$,s):null,f=r.useMemo(()=>t.thumbnail||C||`https://i.ytimg.com/${j}/${t.playlist?m:o}/${s}.${$}`,[t.thumbnail,C,j,t.playlist,m,o,s,$]),O=t.activatedClass||"lyt-activated",P=t.adNetwork||!1,E=t.aspectHeight||9,N=t.aspectWidth||16,T=t.iframeClass||"",W=t.playerClass||"lty-playbtn",D=t.wrapperClass||"yt-lite",v=r.useCallback(t.onIframeAdded||function(){},[t.onIframeAdded]),M=t.resourceHint||(t.rel?"prefetch":"preload"),A=t.containerElement||"article",F=t.noscriptFallback!==!1,q=()=>{c||l(!0)},S=()=>{e||d(!0)};return r.useEffect(()=>{e&&(v(),t.focusOnLoad&&typeof a=="object"&&(a!=null&&a.current)&&a.current.focus())},[e,v,t.focusOnLoad,a]),r.useEffect(()=>{if(!t.stopOnEnd||!e)return;const y=u=>{var w;if(!(u.origin!=="https://www.youtube.com"&&u.origin!=="https://www.youtube-nocookie.com"))try{const b=typeof u.data=="string"?JSON.parse(u.data):u.data;b.info&&b.info.playerState===0&&typeof a=="object"&&(w=a==null?void 0:a.current)!=null&&w.contentWindow&&a.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}catch{}};return window.addEventListener("message",y),()=>window.removeEventListener("message",y)},[t.stopOnEnd,e,a]),n.jsxs(n.Fragment,{children:[!t.lazyLoad&&n.jsx("link",{rel:M,href:f,as:"image"}),n.jsx(n.Fragment,{children:c&&n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:h}),n.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),P&&n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),n.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),t.seo&&!t.playlist&&n.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:z(t.id,i,f,h,t.seo)}}),F&&!t.playlist&&n.jsx("noscript",{children:n.jsxs("a",{href:`https://www.youtube.com/watch?v=${t.id}`,"aria-label":`Watch ${i} on YouTube`,children:['Watch "',i,'" on YouTube']})}),n.jsxs(A,{onPointerOver:q,onClick:S,className:`${D} ${e?O:""}`,"data-title":i,role:e?void 0:"img","aria-label":e?void 0:`${i} - YouTube video preview`,style:{...!t.lazyLoad&&{backgroundImage:`url(${f})`},"--aspect-ratio":`${E/N*100}%`,...t.style||{}},children:[t.lazyLoad&&!e&&n.jsx("img",{src:f,alt:`${i} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),n.jsx("button",{type:"button",className:W,"aria-label":`${k} ${i}`,"aria-hidden":e||void 0,tabIndex:e?-1:0,onClick:S,children:n.jsx("span",{className:"lty-visually-hidden",children:k})}),e&&n.jsx("iframe",{ref:a,className:T,title:i,width:"560",height:"315",style:{border:0},allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:U,referrerPolicy:t.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const J=r.forwardRef(H);module.exports=J;
//# sourceMappingURL=index.js.map
