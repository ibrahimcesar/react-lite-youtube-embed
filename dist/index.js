/**
* react-lite-youtube-embed v2.5.7-beta.0
*  git+https://github.com/ibrahimcesar/react-lite-youtube-embed.git
*
*  Copyright (c) Ibrahim Cesar <email@ibrahimcesar.com> and project contributors.
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*  Author site: https://ibrahimcesar.cloud
*/
"use strict";const a=require("react/jsx-runtime"),w=require("react");function M(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const l in t)if(l!=="default"){const c=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(n,l,c.get?c:{enumerable:!0,get:()=>t[l]})}}return n.default=t,Object.freeze(n)}const d=M(w),R={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},_=(t,n,l,c="maxresdefault")=>{const[e,s]=w.useState("");return w.useEffect(()=>{const i=`https://img.youtube.com/${n}/${t}/${c}.${l}`,o=`https://img.youtube.com/${n}/${t}/hqdefault.${l}`,r=R[c],u=new Image;u.onload=()=>{u.width<r?s(o):s(i)},u.onerror=()=>s(o),u.src=i},[t,n,l,c]),e};function Y(t,n,l,c,e){const s={"@context":"https://schema.org","@type":"VideoObject",name:(e==null?void 0:e.name)||n,thumbnailUrl:[(e==null?void 0:e.thumbnailUrl)||l],embedUrl:(e==null?void 0:e.embedUrl)||`${c}/embed/${t}`,contentUrl:(e==null?void 0:e.contentUrl)||`https://www.youtube.com/watch?v=${t}`,...(e==null?void 0:e.description)&&{description:e.description},...(e==null?void 0:e.uploadDate)&&{uploadDate:e.uploadDate},...(e==null?void 0:e.duration)&&{duration:e.duration}};return JSON.stringify(s)}function H(t,n){const[l,c]=d.useState(!1),[e,s]=d.useState(t.alwaysLoadIframe||!1),i=encodeURIComponent(t.id),o=typeof t.playlistCoverId=="string"?encodeURIComponent(t.playlistCoverId):null,r=t.title,u=t.poster||"hqdefault",g=t.announce||"Watch",$=t.alwaysLoadIframe?t.autoplay&&t.muted:!0,h=d.useMemo(()=>{const I=new URLSearchParams({...t.muted?{mute:"1"}:{},...$?{autoplay:"1"}:{},...t.enableJsApi?{enablejsapi:"1"}:{},...t.playlist?{list:i}:{}});return t.params&&new URLSearchParams(t.params.startsWith("&")?t.params.slice(1):t.params).forEach((q,E)=>{I.append(E,q)}),I},[t.muted,$,t.enableJsApi,t.playlist,i,t.params]),m=d.useMemo(()=>t.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[t.cookie]),k=d.useMemo(()=>t.playlist?`${m}/embed/videoseries?${h.toString()}`:`${m}/embed/${i}?${h.toString()}`,[t.playlist,m,i,h]),v=!t.thumbnail&&!t.playlist&&u==="maxresdefault",f=t.webp?"webp":"jpg",b=t.webp?"vi_webp":"vi",j=v?_(t.id,b,f,u):null,y=d.useMemo(()=>t.thumbnail||j||`https://i.ytimg.com/${b}/${t.playlist?o:i}/${u}.${f}`,[t.thumbnail,j,b,t.playlist,o,i,u,f]),C=t.activatedClass||"lyt-activated",U=t.adNetwork||!1,S=t.aspectHeight||9,P=t.aspectWidth||16,O=t.iframeClass||"",T=t.playerClass||"lty-playbtn",N=t.wrapperClass||"yt-lite",x=d.useCallback(t.onIframeAdded||function(){},[t.onIframeAdded]),W=t.rel?"prefetch":"preload",D=t.containerElement||"article",L=t.noscriptFallback!==!1,A=()=>{l||c(!0)},F=()=>{e||s(!0)};return d.useEffect(()=>{e&&(x(),t.focusOnLoad&&typeof n=="object"&&(n!=null&&n.current)&&n.current.focus())},[e,x,t.focusOnLoad,n]),a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:W,href:y,as:"image"}),a.jsx(a.Fragment,{children:l&&a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:m}),a.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),U&&a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),a.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),t.seo&&!t.playlist&&a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Y(t.id,r,y,m,t.seo)}}),L&&!t.playlist&&a.jsx("noscript",{children:a.jsxs("a",{href:`https://www.youtube.com/watch?v=${t.id}`,"aria-label":`Watch ${r} on YouTube`,children:['Watch "',r,'" on YouTube']})}),a.jsxs(D,{onPointerOver:A,onClick:F,className:`${N} ${e?C:""}`,"data-title":r,role:e?void 0:"img","aria-label":e?void 0:`${r} - YouTube video preview`,style:{backgroundImage:`url(${y})`,"--aspect-ratio":`${S/P*100}%`,...t.style||{}},children:[a.jsx("button",{type:"button",className:T,"aria-label":`${g} ${r}`,"aria-hidden":e||void 0,tabIndex:e?-1:0,children:a.jsx("span",{className:"lty-visually-hidden",children:g})}),e&&a.jsx("iframe",{ref:n,className:O,title:r,width:"560",height:"315",style:{border:0},allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:k,referrerPolicy:t.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const J=d.forwardRef(H);module.exports=J;
//# sourceMappingURL=index.js.map
