/**
* react-lite-youtube-embed v2.5.7-beta.0
*  git+https://github.com/ibrahimcesar/react-lite-youtube-embed.git
*
*  Copyright (c) Ibrahim Cesar <email@ibrahimcesar.com> and project contributors.
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*  Author site: https://ibrahimcesar.cloud
*/
"use strict";const a=require("react/jsx-runtime"),w=require("react");function M(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const l in t)if(l!=="default"){const c=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(n,l,c.get?c:{enumerable:!0,get:()=>t[l]})}}return n.default=t,Object.freeze(n)}const d=M(w),R={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},Y=(t,n,l,c="maxresdefault")=>{const[e,s]=w.useState("");return w.useEffect(()=>{const r=`https://img.youtube.com/${n}/${t}/${c}.${l}`,o=`https://img.youtube.com/${n}/${t}/hqdefault.${l}`,i=R[c],u=new Image;u.onload=()=>{u.width<i?s(o):s(r)},u.onerror=()=>s(o),u.src=r},[t,n,l,c]),e};function _(t,n,l,c,e){const s={"@context":"https://schema.org","@type":"VideoObject",name:(e==null?void 0:e.name)||n,thumbnailUrl:[(e==null?void 0:e.thumbnailUrl)||l],embedUrl:(e==null?void 0:e.embedUrl)||`${c}/embed/${t}`,contentUrl:(e==null?void 0:e.contentUrl)||`https://www.youtube.com/watch?v=${t}`,...(e==null?void 0:e.description)&&{description:e.description},...(e==null?void 0:e.uploadDate)&&{uploadDate:e.uploadDate},...(e==null?void 0:e.duration)&&{duration:e.duration}};return JSON.stringify(s)}function z(t,n){const[l,c]=d.useState(!1),[e,s]=d.useState(t.alwaysLoadIframe||!1),r=encodeURIComponent(t.id),o=typeof t.playlistCoverId=="string"?encodeURIComponent(t.playlistCoverId):null,i=t.title,u=t.poster||"hqdefault",g=t.announce||"Watch",$=t.alwaysLoadIframe?t.autoplay&&t.muted:!0,b=d.useMemo(()=>{const I=new URLSearchParams({...t.muted?{mute:"1"}:{},...$?{autoplay:"1"}:{},...t.enableJsApi?{enablejsapi:"1"}:{},...t.playlist?{list:r}:{}});return t.params&&new URLSearchParams(t.params.startsWith("&")?t.params.slice(1):t.params).forEach((q,E)=>{I.append(E,q)}),I},[t.muted,$,t.enableJsApi,t.playlist,r,t.params]),m=d.useMemo(()=>t.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[t.cookie]),k=d.useMemo(()=>t.playlist?`${m}/embed/videoseries?${b.toString()}`:`${m}/embed/${r}?${b.toString()}`,[t.playlist,m,r,b]),v=!t.thumbnail&&!t.playlist&&u==="maxresdefault",f=t.webp?"webp":"jpg",y=t.webp?"vi_webp":"vi",j=v?Y(t.id,y,f,u):null,h=d.useMemo(()=>t.thumbnail||j||`https://i.ytimg.com/${y}/${t.playlist?o:r}/${u}.${f}`,[t.thumbnail,j,y,t.playlist,o,r,u,f]),C=t.activatedClass||"lyt-activated",U=t.adNetwork||!1,S=t.aspectHeight||9,P=t.aspectWidth||16,L=t.iframeClass||"",T=t.playerClass||"lty-playbtn",N=t.wrapperClass||"yt-lite",x=d.useCallback(t.onIframeAdded||function(){},[t.onIframeAdded]),O=t.rel?"prefetch":"preload",W=t.containerElement||"article",D=t.noscriptFallback!==!1,A=()=>{l||c(!0)},F=()=>{e||s(!0)};return d.useEffect(()=>{e&&(x(),t.focusOnLoad&&typeof n=="object"&&(n!=null&&n.current)&&n.current.focus())},[e,x,t.focusOnLoad,n]),a.jsxs(a.Fragment,{children:[!t.lazyLoad&&a.jsx("link",{rel:O,href:h,as:"image"}),a.jsx(a.Fragment,{children:l&&a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:m}),a.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),U&&a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),a.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),t.seo&&!t.playlist&&a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:_(t.id,i,h,m,t.seo)}}),D&&!t.playlist&&a.jsx("noscript",{children:a.jsxs("a",{href:`https://www.youtube.com/watch?v=${t.id}`,"aria-label":`Watch ${i} on YouTube`,children:['Watch "',i,'" on YouTube']})}),a.jsxs(W,{onPointerOver:A,onClick:F,className:`${N} ${e?C:""}`,"data-title":i,role:e?void 0:"img","aria-label":e?void 0:`${i} - YouTube video preview`,style:{...!t.lazyLoad&&{backgroundImage:`url(${h})`},"--aspect-ratio":`${S/P*100}%`,...t.style||{}},children:[t.lazyLoad&&!e&&a.jsx("img",{src:h,alt:`${i} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),a.jsx("button",{type:"button",className:T,"aria-label":`${g} ${i}`,"aria-hidden":e||void 0,tabIndex:e?-1:0,children:a.jsx("span",{className:"lty-visually-hidden",children:g})}),e&&a.jsx("iframe",{ref:n,className:L,title:i,width:"560",height:"315",style:{border:0},allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:k,referrerPolicy:t.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const H=d.forwardRef(z);module.exports=H;
//# sourceMappingURL=index.js.map
